<script src="res/js/add.js">
</script>
<div class="section">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <h1 class="text-center">
                    Add a Solution
                    <br/>
                    <br/>
                </h1>
            </div>
        </div>
    </div>
</div>
<div class="section">
    <div class="container">
        <div class="row">
            <div class="col-md-12">
                <!-- @TODO: Add help text -->
                <form action="/add" class="form-horizontal" method="post" role="form">
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label" for="solName">
                                Solution Name
                            </label>
                        </div>
                        <div class="col-sm-10">
                            <input class="form-control" id="solName" type="text"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label" for="solDesciption">
                                Description
                            </label>
                        </div>
                        <div class="col-sm-10">
                            <input class="form-control" id="solDesciption"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label" for="solCat">
                                Category
                            </label>
                        </div>
                        <div class="col-sm-10">
                            <select class="selectpicker" data-live-search="true" id="solCat" multiple="">
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label" for="solMat">
                                Materials
                            </label>
                        </div>
                        <!-- <div ng-repeat="item in formItems"> -->
                        <div class="col-sm-3">
                            <ui-select ng-model="mat.select" on-select="onSelectCallback($item)" theme="bootstrap">
                                <ui-select-match placeholder="Select a material, or add new one">
                                    <span>
                                        {{$select.selected.description || $select.search}}
                                    </span>
                                    <a class="btn btn-xs btn-link pull-right" ng-click="clear($event, $select)">
                                        <i class="glyphicon glyphicon-remove">
                                        </i>
                                    </a>
                                </ui-select-match>
                                <ui-select-choices refresh="refreshResults($select)" refresh-delay='”0"' repeat="item in (tables | filter: { description: $select.search }) track by item.id">
                                    <span>
                                        {{item.description}}
                                    </span>
                                </ui-select-choices>
                            </ui-select>
                        </div>
                        <div class="col-sm-1">
                            <label class="control-label">
                                Vendor
                            </label>
                        </div>
                        <div class="col-sm-3">
                            <input class="form-control ng-hide" ng-model="mat.select.vendor" ng-show="showVendor==1" type="text">
                                <label class="control-label" ng-show="showVendor==2">
                                    {{mat.select.vendor}}
                                </label>
                                <label class="control-label" ng-show="showVendor==3">
                                    N/A
                                </label>
                            </input>
                        </div>
                        <div class="col-sm-2">
                            <label class="control-label" for="matQuantity">
                                Quantity
                            </label>
                        </div>
                        <div class="col-sm-1">
                            <input class="form-control" id="matQuantity" min="1" ng-model="mat.quan" type="number">
                            </input>
                        </div>
                        <!-- </div> -->
                    </div>
                    <div class="form-group">
                        <div class="col-sm-10 col-sm-offset-2">
                            <a class="btn btn-default" ng-click="addMat()">
                                Add Material
                            </a>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-10 col-sm-offset-2">
                            <table class="table">
                                <thead>
                                    <th>
                                        #
                                    </th>
                                    <th>
                                        Material Name
                                    </th>
                                    <th>
                                        Vendor
                                    </th>
                                    <th>
                                        Quantity
                                    </th>
                                    <th>
                                        -
                                    </th>
                                </thead>
                                <tbody>
                                    <tr class="row" ng-repeat="x in formItems">
                                        <td class="col">
                                            {{ $index + 1 }}
                                        </td>
                                        <td class="col">
                                            {{x.select.description}}
                                        </td>
                                        <td class="col">
                                            {{x.select.vendor}}
                                        </td>
                                        <td class="col">
                                            {{x.quan}}
                                        </td>
                                        <td class="col">
                                            <a class="btn btn-xs btn-link pull-right" ng-click="clearRow($event, x)">
                                                <i class="glyphicon glyphicon-remove">
                                                </i>
                                            </a>
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                    <br/>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label" for="solTime">
                                Time to Build
                            </label>
                        </div>
                        <div class="col-sm-1">
                            <input class="form-control" id="solTime" min="0" type="number"/>
                        </div>
                        <div class="col-sm-1">
                            <label class="control-label">
                                minutes
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label" for="solDifficulty">
                                Difficulty
                            </label>
                        </div>
                        <div class="col-sm-10">
                            <input class="rating" data-empty="glyphicon glyphicon-star-empty" data-filled="glyphicon glyphicon-star" id="solDifficulty" type="hidden"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label" for="solCost">
                                Cost
                            </label>
                        </div>
                        <div class="col-sm-1">
                            <input class="form-control" id="solCost" min="0" type="number"/>
                        </div>
                        <div class="col-sm-1">
                            <label class="control-label">
                                USD
                            </label>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-2">
                            <label class="control-label" for="solInstruction">
                                Instructions
                            </label>
                        </div>
                        <div class="col-sm-10">
                            <textarea class="form-control" id="solInstruction" rows="3" type="text">
                            </textarea>
                        </div>
                    </div>
                    <div class="form-group">
                        <div class="col-sm-offset-2 col-sm-10">
                            <button class="btn btn-default" type="submit">
                                Submit
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
